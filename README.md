# InputSpark

InputSpark 是一款为 IntelliJ IDEA 设计的智能输入法切换插件。它能够根据光标所在的上下文（代码、注释、字符串等）自动切换系统的输入法状态（中/英文），让你在编写代码时无需频繁手动切换输入法，保持心流不被打断。

> **注意**：当前版本主要针对 Windows 10/11 系统的微软拼音输入法进行了深度优化。

## ✨ 核心特性

*   **智能上下文识别**：
    *   **代码区域**：自动切换为英文输入，专注于代码编写。
    *   **注释区域**：进入 `//` 或 `/* */` 注释时，自动切换为中文输入，方便编写文档。
    *   **字符串字面量**：可配置是否在字符串中自动切换（默认英文）。
    *   **Git 提交信息**：在编写 Git Commit Message 时自动切换为中文。
*   **无感切换**：
    *   使用底层 Windows API (IMM32) 检测输入法状态，仅在必要时模拟按键切换，避免多余的系统干扰。
    *   **防抖动设计**：智能识别用户的连续输入和手动操作，防止在注释中修改代码片段时被强制切回中文。
*   **可视化反馈**：
    *   切换成功时提供轻量的气泡提示（如 "注释 - 中文"），让你对当前状态了如指掌。

## 🚀 安装指南

### 方式一：从插件市场安装 (即将发布)
1. 打开 IntelliJ IDEA，进入 `Settings` -> `Plugins`。
2. 搜索 `InputSpark`。
3. 点击安装并重启 IDE。

### 方式二：手动安装
1. 下载本项目最新的 `build/libs/InputSpark-1.0.0.jar` 文件。
2. 打开 IDEA，进入 `Plugins` 设置页。
3. 点击齿轮图标，选择 `Install Plugin from Disk...`。
4. 选择下载的 jar 包进行安装。

## ⚙️ 配置说明

插件安装后开箱即用，您也可以在 `Settings` -> `Tools` -> `InputSpark` 中进行个性化配置：

*   **启用 InputSpark 插件**：全局开关。
*   **场景开关配置**：
    *   `默认场景（代码区域）`：是否在普通代码区强制切回英文。
    *   `注释场景`：是否在注释区切回中文。
    *   `字符串字面量场景`：是否在字符串中进行切换（默认关闭）。
    *   `Git 提交场景`：是否在 Git 提交窗口切回中文。

## 🛠️ 开发构建

如果你想参与本项目开发或自行构建：

1. 克隆项目到本地：
   ```bash
   git clone https://github.com/your-username/InputSpark.git
   ```
2. 使用 IntelliJ IDEA 打开项目。
3. 等待 Gradle 同步完成（需 JDK 17+）。
4. 运行 `gradle runIde` 启动沙箱环境进行测试。
5. 运行 `gradle buildPlugin` 构建发行包。

## 📝 版本历史

### v1.0.0
*   初始版本发布。
*   支持 Windows 平台微软拼音输入法的中英文自动切换。
*   支持代码、注释、Git 提交信息的场景识别。
*   实现防抖动和手动覆盖保护机制。

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

---
**InputSpark** - 让编码如丝般顺滑。
